{"id":"Wtje","dependencies":[{"name":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\package.json","includedInParent":true,"mtime":1632113720308},{"name":"lodash.throttle","loc":{"line":1,"column":21},"parent":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\src\\js\\02-feedback.js","resolved":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\node_modules\\lodash.throttle\\index.js"},{"name":"../css/common.css","loc":{"line":2,"column":7},"parent":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\src\\js\\02-feedback.js","resolved":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\src\\css\\common.css"},{"name":"../css/feedback-form.css","loc":{"line":3,"column":7},"parent":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\src\\js\\02-feedback.js","resolved":"C:\\Users\\ПК\\OneDrive\\Рабочий стол\\Projects\\JSON\\src\\css\\feedback-form.css"}],"generated":{"js":"\"use strict\";var e=t(require(\"lodash.throttle\"));function t(e){return e&&e.__esModule?e:{default:e}}require(\"../css/common.css\"),require(\"../css/feedback-form.css\");var r=\"feedback-msg\",a={form:document.querySelector(\".js-feedback-form\"),textarea:document.querySelector(\".js-feedback-form  textarea\")};function o(e){e.preventDefault(),console.log(\"Отправляем форму\"),e.currentTarget.reset(),localStorage.removeItem(r)}function c(e){var t=e.target.value;localStorage.setItem(r,t)}function u(){var e=localStorage.getItem(r);e&&(a.textarea.value=e)}a.form.addEventListener(\"submit\",o),a.textarea.addEventListener(\"input\",(0,e.default)(c,200)),u();"},"sourceMaps":{"js":{"mappings":[{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":0}},{"source":"js/02-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"js/02-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"js/02-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"js/02-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"js/02-feedback.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":49}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":58}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":60}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":63}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":70}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":73}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":75}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":86}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":88}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":89}},{"source":"js/02-feedback.js","original":{"line":51,"column":1},"generated":{"line":1,"column":97}},{"source":"js/02-feedback.js","original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"js/02-feedback.js","original":{"line":2,"column":0},"generated":{"line":1,"column":108}},{"source":"js/02-feedback.js","original":{"line":3,"column":0},"generated":{"line":1,"column":129}},{"source":"js/02-feedback.js","original":{"line":3,"column":0},"generated":{"line":1,"column":137}},{"source":"js/02-feedback.js","original":{"line":5,"column":0},"generated":{"line":1,"column":165}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":5,"column":6},"generated":{"line":1,"column":169}},{"source":"js/02-feedback.js","original":{"line":5,"column":20},"generated":{"line":1,"column":171}},{"source":"js/02-feedback.js","name":"refs","original":{"line":7,"column":6},"generated":{"line":1,"column":186}},{"source":"js/02-feedback.js","original":{"line":7,"column":13},"generated":{"line":1,"column":188}},{"source":"js/02-feedback.js","name":"form","original":{"line":8,"column":2},"generated":{"line":1,"column":189}},{"source":"js/02-feedback.js","name":"document","original":{"line":8,"column":8},"generated":{"line":1,"column":194}},{"source":"js/02-feedback.js","name":"querySelector","original":{"line":8,"column":17},"generated":{"line":1,"column":203}},{"source":"js/02-feedback.js","original":{"line":8,"column":31},"generated":{"line":1,"column":217}},{"source":"js/02-feedback.js","name":"textarea","original":{"line":9,"column":2},"generated":{"line":1,"column":238}},{"source":"js/02-feedback.js","name":"document","original":{"line":9,"column":12},"generated":{"line":1,"column":247}},{"source":"js/02-feedback.js","name":"querySelector","original":{"line":9,"column":21},"generated":{"line":1,"column":256}},{"source":"js/02-feedback.js","original":{"line":9,"column":35},"generated":{"line":1,"column":270}},{"source":"js/02-feedback.js","original":{"line":22,"column":0},"generated":{"line":1,"column":302}},{"source":"js/02-feedback.js","name":"onFormSubmit","original":{"line":22,"column":9},"generated":{"line":1,"column":311}},{"source":"js/02-feedback.js","name":"evt","original":{"line":22,"column":22},"generated":{"line":1,"column":313}},{"source":"js/02-feedback.js","name":"evt","original":{"line":23,"column":2},"generated":{"line":1,"column":316}},{"source":"js/02-feedback.js","name":"preventDefault","original":{"line":23,"column":6},"generated":{"line":1,"column":318}},{"source":"js/02-feedback.js","name":"console","original":{"line":25,"column":2},"generated":{"line":1,"column":335}},{"source":"js/02-feedback.js","name":"log","original":{"line":25,"column":10},"generated":{"line":1,"column":343}},{"source":"js/02-feedback.js","original":{"line":25,"column":14},"generated":{"line":1,"column":347}},{"source":"js/02-feedback.js","name":"evt","original":{"line":26,"column":2},"generated":{"line":1,"column":367}},{"source":"js/02-feedback.js","name":"currentTarget","original":{"line":26,"column":6},"generated":{"line":1,"column":369}},{"source":"js/02-feedback.js","name":"reset","original":{"line":26,"column":20},"generated":{"line":1,"column":383}},{"source":"js/02-feedback.js","name":"localStorage","original":{"line":27,"column":2},"generated":{"line":1,"column":391}},{"source":"js/02-feedback.js","name":"removeItem","original":{"line":27,"column":15},"generated":{"line":1,"column":404}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":27,"column":26},"generated":{"line":1,"column":415}},{"source":"js/02-feedback.js","original":{"line":35,"column":0},"generated":{"line":1,"column":418}},{"source":"js/02-feedback.js","name":"onTextareaInput","original":{"line":35,"column":9},"generated":{"line":1,"column":427}},{"source":"js/02-feedback.js","name":"evt","original":{"line":35,"column":25},"generated":{"line":1,"column":429}},{"source":"js/02-feedback.js","name":"message","original":{"line":36,"column":8},"generated":{"line":1,"column":432}},{"source":"js/02-feedback.js","name":"message","original":{"line":36,"column":8},"generated":{"line":1,"column":436}},{"source":"js/02-feedback.js","name":"evt","original":{"line":36,"column":18},"generated":{"line":1,"column":438}},{"source":"js/02-feedback.js","name":"target","original":{"line":36,"column":22},"generated":{"line":1,"column":440}},{"source":"js/02-feedback.js","name":"value","original":{"line":36,"column":29},"generated":{"line":1,"column":447}},{"source":"js/02-feedback.js","name":"localStorage","original":{"line":38,"column":2},"generated":{"line":1,"column":453}},{"source":"js/02-feedback.js","name":"setItem","original":{"line":38,"column":15},"generated":{"line":1,"column":466}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":38,"column":23},"generated":{"line":1,"column":474}},{"source":"js/02-feedback.js","name":"message","original":{"line":38,"column":36},"generated":{"line":1,"column":476}},{"source":"js/02-feedback.js","original":{"line":45,"column":0},"generated":{"line":1,"column":479}},{"source":"js/02-feedback.js","name":"populateTextarea","original":{"line":45,"column":9},"generated":{"line":1,"column":488}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":46,"column":8},"generated":{"line":1,"column":492}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":46,"column":8},"generated":{"line":1,"column":496}},{"source":"js/02-feedback.js","name":"localStorage","original":{"line":46,"column":23},"generated":{"line":1,"column":498}},{"source":"js/02-feedback.js","name":"getItem","original":{"line":46,"column":36},"generated":{"line":1,"column":511}},{"source":"js/02-feedback.js","name":"STORAGE_KEY","original":{"line":46,"column":44},"generated":{"line":1,"column":519}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":48,"column":6},"generated":{"line":1,"column":522}},{"source":"js/02-feedback.js","name":"refs","original":{"line":49,"column":4},"generated":{"line":1,"column":526}},{"source":"js/02-feedback.js","name":"textarea","original":{"line":49,"column":9},"generated":{"line":1,"column":528}},{"source":"js/02-feedback.js","name":"value","original":{"line":49,"column":18},"generated":{"line":1,"column":537}},{"source":"js/02-feedback.js","name":"savedMessage","original":{"line":49,"column":26},"generated":{"line":1,"column":543}},{"source":"js/02-feedback.js","name":"refs","original":{"line":12,"column":0},"generated":{"line":1,"column":546}},{"source":"js/02-feedback.js","name":"form","original":{"line":12,"column":5},"generated":{"line":1,"column":548}},{"source":"js/02-feedback.js","name":"addEventListener","original":{"line":12,"column":10},"generated":{"line":1,"column":553}},{"source":"js/02-feedback.js","original":{"line":12,"column":27},"generated":{"line":1,"column":570}},{"source":"js/02-feedback.js","name":"onFormSubmit","original":{"line":12,"column":37},"generated":{"line":1,"column":579}},{"source":"js/02-feedback.js","name":"refs","original":{"line":13,"column":0},"generated":{"line":1,"column":582}},{"source":"js/02-feedback.js","name":"textarea","original":{"line":13,"column":5},"generated":{"line":1,"column":584}},{"source":"js/02-feedback.js","name":"addEventListener","original":{"line":13,"column":14},"generated":{"line":1,"column":593}},{"source":"js/02-feedback.js","original":{"line":13,"column":31},"generated":{"line":1,"column":610}},{"source":"js/02-feedback.js","original":{"line":13,"column":40},"generated":{"line":1,"column":619}},{"source":"js/02-feedback.js","name":"onTextareaInput","original":{"line":13,"column":49},"generated":{"line":1,"column":621}},{"source":"js/02-feedback.js","name":"onTextareaInput","original":{"line":13,"column":49},"generated":{"line":1,"column":623}},{"source":"js/02-feedback.js","name":"onTextareaInput","original":{"line":13,"column":49},"generated":{"line":1,"column":632}},{"source":"js/02-feedback.js","original":{"line":13,"column":66},"generated":{"line":1,"column":634}},{"source":"js/02-feedback.js","name":"populateTextarea","original":{"line":15,"column":0},"generated":{"line":1,"column":640}}],"sources":{"js/02-feedback.js":"import throttle from 'lodash.throttle';\r\nimport '../css/common.css';\r\nimport '../css/feedback-form.css';\r\n\r\nconst STORAGE_KEY = 'feedback-msg';\r\n\r\nconst refs = {\r\n  form: document.querySelector('.js-feedback-form'),\r\n  textarea: document.querySelector('.js-feedback-form  textarea'),\r\n};\r\n\r\nrefs.form.addEventListener('submit', onFormSubmit);\r\nrefs.textarea.addEventListener('input', throttle(onTextareaInput, 200));\r\n\r\npopulateTextarea();\r\n\r\n/*\r\n * - Останавливаем поведение по умолчанию\r\n * - Убираем сообщение из хранилища\r\n * - Очищаем форму\r\n */\r\nfunction onFormSubmit(evt) {\r\n  evt.preventDefault();\r\n\r\n  console.log('Отправляем форму');\r\n  evt.currentTarget.reset();\r\n  localStorage.removeItem(STORAGE_KEY);\r\n}\r\n\r\n/*\r\n * - Получаем значение поля\r\n * - Сохраняем его в хранилище\r\n * - Можно добавить throttle\r\n */\r\nfunction onTextareaInput(evt) {\r\n  const message = evt.target.value;\r\n\r\n  localStorage.setItem(STORAGE_KEY, message);\r\n}\r\n\r\n/*\r\n * - Получаем значение из хранилища\r\n * - Если там что-то было, обновляем DOM\r\n */\r\nfunction populateTextarea() {\r\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\r\n\r\n  if (savedMessage) {\r\n    refs.textarea.value = savedMessage;\r\n  }\r\n}"},"lineCount":null}},"error":null,"hash":"b6ac27607ecbef4ccbed19e062a56b33","cacheData":{"env":{}}}